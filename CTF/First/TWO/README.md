# 名字评分系统

## 修改记录

### 2024-01-xx
1. 创建基础项目结构
2. 实现基本的名字评分功能
3. 添加界面布局

### 2024-01-xx
1. 添加自动读取name.txt功能
2. 实现逐字显示效果
3. 设置500毫秒显示间隔

### 2024-01-xx
1. 创建独立的笔画数字典文件 (stroke_dict.py)
2. 完善三才配置表评分系统
3. 细化五格评分规则

### 2024-01-xx
1. 优化界面样式
   - 添加橙色主题
   - 优化按钮点击效果
   - 调整表格显示

### 2024-01-xx
1. 改进评分显示
   - 分数加粗显示
   - 添加"分"字后缀
   - 表头加粗显示

## 功能说明

### 名字评分
- 三才五格评分系统
- 实时文件读取
- 逐字显示效果
- 评分结果表格展示

### 评分规则
- 三才配置评分：
  1. 三才计算方法：
     - 天才：天格数除以10取余数
     - 人才：人格数除以10取余数
     - 地才：地格数除以10取余数

  2. 评分等级：
     - 上上配置（100分）：
       - (1,6,8), (1,8,8), (3,6,8), (3,8,8)
       - (5,6,8), (5,8,8), (7,6,8), (7,8,8)
     
     - 上配��（90分）：
       - (1,6,6), (1,8,6), (3,6,6), (3,8,6)
       - (5,6,6), (5,8,6), (7,6,6), (7,8,6)
       - (2,6,8), (2,8,8), (4,6,8), (4,8,8)
       - (6,6,8), (6,8,8), (8,6,8), (8,8,8)
     
     - 中上配置（85分）：
       - (1,1,8), (1,3,8), (1,5,8), (1,7,8)
       - (3,1,8), (3,3,8), (3,5,8), (3,7,8)
       - (5,1,8), (5,3,8), (5,5,8), (5,7,8)
       - (7,1,8), (7,3,8), (7,5,8), (7,7,8)
     
     - 中配置（80分）：
       - (2,1,6), (2,3,6), (2,5,6), (2,7,6)
       - (4,1,6), (4,3,6), (4,5,6), (4,7,6)
       - (6,1,6), (6,3,6), (6,5,6), (6,7,6)
       - (8,1,6), (8,3,6), (8,5,6), (8,7,6)
     
     - 中下配置（75分）：
       - (1,2,8), (1,4,8), (3,2,8), (3,4,8)
       - (5,2,8), (5,4,8), (7,2,8), (7,4,8)
       - (2,2,6), (2,4,6), (4,2,6), (4,4,6)
       - (6,2,6), (6,4,6), (8,2,6), (8,4,6)
     
     - 下配置（70分）：
       - (1,2,6), (1,4,6), (3,2,6), (3,4,6)
       - (5,2,6), (5,4,6), (7,2,6), (7,4,6)
       - (2,2,8), (2,4,8), (4,2,8), (4,4,8)
       - (6,2,8), (6,4,8), (8,2,8), (8,4,8)

  3. 特殊配置：
     - 全相同数：
       - (1,1,1), (3,3,3), (5,5,5), (7,7,7): 88分
       - (2,2,2), (4,4,4), (6,6,6), (8,8,8): 66分

  4. 差异度评分调整：
     - 完全匹配：使用配置表分数
     - 轻微差异（≤3）：降5分
     - 中等差异（≤6）：降10分
     - 较大差异（>6）：降15分

  5. 三才五行属性：
     - 数字1：属水
     - 数字2：属土
     - 数字3：属木
     - 数字4：属木
     - 数字5：属土
     - 数字6：属金
     - 数字7：属金
     - 数字8：属土
     - 数字9：属火
     - 数字0：属水

  6. 吉凶判断原则：
     - 上上：三才配置相生且数理优良
     - 上：三才配置相生
     - 中上：三才配置部分相生
     - 中：三才配置平稳
     - 中下：三才配置部分相克
     - 下：三才配置相克

- 五格数理评分：
  1. 天格（外在环境）：姓氏首字笔画数+1
     - 上等：1,3,7,11,13,15,21,25,31,37 (100分)
     - 中上：5,8,9,23,27,29,33,35,39 (90分)
     - 中等：2,4,12,14,16,18,24,28,32,36 (80分)
     - 中下：6,10,17,19,20,22,26,30,34,38 (70分)
     - 下等：其他数字 (60分)
     - 特别加分：1,3,5,7 (+10分)

  2. 人格（个性特征）：姓氏末字+名字首字笔画数
     - 上等：1,3,7,11,13,15,21,25,31,37 (100分)
     - 中上：5,8,9,23,27,29,33,35,39 (90分)
     - 中等：2,4,12,14,16,18,24,28,32,36 (80分)
     - 中下：6,10,17,19,20,22,26,30,34,38 (70分)
     - 下等：其他数字 (60分)
     - 最佳数理：1,3,5,7,8,11,13,15,21 (+15分)
     - 次佳数理���2,4,6,9,10,12,14,16 (+5分)

  3. 地格（事业发展）：名字末字笔画数+1
     - 上等：1,3,7,11,13,15,21,25,31,37 (100分)
     - 中上：5,8,9,23,27,29,33,35,39 (90分)
     - 中等：2,4,12,14,16,18,24,28,32,36 (80分)
     - 中下：6,10,17,19,20,22,26,30,34,38 (70分)
     - 下等：其他数字 (60分)
     - 有利数理：1,3,5,7,11,13,15,21 (+10分)

  4. 外格（社交环境）：天格数+地格数-1
     - 上等：1,3,7,11,13,15,21,25,31,37 (100分)
     - 中上：5,8,9,23,27,29,33,35,39 (90分)
     - 中等：2,4,12,14,16,18,24,28,32,36 (80分)
     - 中下：6,10,17,19,20,22,26,30,34,38 (70分)
     - 下等：其他数字 (60分)
     - 有利数理：1,3,5,7,8,11,13,15 (+5分)

  5. 总格（总体运势）：所有字的笔画总和
     - 上等：1,3,7,11,13,15,21,25,31,37 (100分)
     - 中上：5,8,9,23,27,29,33,35,39 (90分)
     - 中等：2,4,12,14,16,18,24,28,32,36 (80分)
     - 中下：6,10,17,19,20,22,26,30,34,38 (70分)
     - 下等：其他数字 (60分)
     - 最佳数理：1,3,5,7,8,11,13,15,21,23,25 (+10分)
     - 次佳数理：2,4,6,9,10,12,14,16,24 (+5分)

- 五行属性评分：
  - 金：4,9,14,19,24,29,34,39
  - 木：1,6,11,16,21,26,31,36
  - 水：2,7,12,17,22,27,32,37
  - 火：3,8,13,18,23,28,33,38
  - 土：5,10,15,20,25,30,35,40

- 权重��配：
  - 人格：30%（最重要）
  - 地格：20%
  - 总格：20%
  - 天格：10%
  - 外格：10%
  - 五格关系：10%

- 相生加分：
  - 金生水
  - 水生木
  - 木生火
  - 火生土
  - 土生金
  - 每个相生关系加5分

### 韵律评分规则
1. 基础评分（80分）
2. 名字长度：
   - 三字名：+10分
   - 二字名：+5分
   - 其他长度：-5分

3. 声调搭配：
   - 相邻声调相同：-5分
   - 一声配四声：+5分
   - 二声配三声：+5分
   - 连续上声（三声）：-10分

4. 末字声调：
   - 末字用仄声（二、四声）：+5分
   - 末字用上声（三声）：-5分

5. 评分权重：
   - 三才评分：30%
   - 五格评分：60%
   - 韵律评分：10%

### 八卦六爻评分规则
1. 基础卦象评分：
   - 乾卦（天）：100分
     - 属性：刚健中正
     - 代表字：天、浩、宏等
   
   - 坤卦（地）：95分
     - 属性：柔顺厚德
     - 代表字：地、厚、载等
   
   - 震卦（雷）/巽卦（风）：90分
     - 属性：动而有序/谦逊顺从
     - 代表字：震、雷、动/风、柔、顺等
   
   - 坎卦（水）/离卦（火）：85分
     - 属性：险中有诚/光明丽泽
     - 代表字：水、智、明/火、光、华等
   
   - 艮卦（山）/兑卦（泽）：80分
     - 属性：止而不止/悦而不淫
     - 代表字：山、定、固/泽、悦、乐等

2. 卦象组合评分：
   - 相生关系：+5分
     - 乾坤相生
     - 震巽相生
     - 坎离相生
     - 艮兑相生
   
   - 相克关系：-5分
     - 乾克坎
     - 坤克离
     - 震克艮
     - 巽克兑

3. 评分权重调整：
   - 三才评分：20%
   - 五格评分：40%
   - 韵律评分：15%
   - 字形字义：15%
   - 八卦六爻：10%

## 使用说明

1. 运行程序：
   - 启动程序后自动读取name.txt
   - 每5秒自动读取一次文件
   - 名字逐字显示（间隔500毫秒）

2. 评分显示：
   - 显示名字、分数、评级、寄语
   - 分数显示格式：XX分
   - 评级分为：上上签、上签、中签、下签

## 待优化项目
1. 添加更多汉字笔画数据
2. 优化评分算法
3. 添加更详细的寄语内容
4. 支持多人名字批量评分 